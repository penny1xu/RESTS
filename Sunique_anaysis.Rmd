---
title: "Sunique"
author: "Yeyun Xu"
date: "5/21/2022"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(ggplot2)
library(dplyr)
```

```{r}
#read data
data <- read.csv(file = 'combine.csv',na.strings = c("","NA"))
```

```{r}
#data cleaning (omit 90% of the missing data)
data<-data[, which(colMeans(!is.na(data)) > 0.9)]
```

```{r}
#check status
table(data$Standard.Status)
#choose CLS status house
data_active <-data[data$Standard.Status =="CLS",]

#get first letter in for subdivision column
subdivision_first_letter <- substr(data_rent$Subdivision.Name,1,6)
#sign into a new columns
data_rent$subdivision_first_letter <- subdivision_first_letter
```

2. filter out good house
```{r}
# filter out good area (rent date less than 45 days)
data_rent <-data_active[data_active$Days.On.Market<46,]
#sort decreasing order
sort(table(data_rent$Postal.Code), decreasing = TRUE)[1:100]
```

```{r}
#find house less than 5 bed room and 5 bathroom 
data_rent <-data_rent[data_rent$Bedrooms.Total <4 & data_rent$Bathrooms.Total.Interger <4,]
```

```{r}
#year difference
data_rent<-na.omit(data_rent)
data_rent[data_rent$Year.Built <= 1990, "Building_Year"]<- "1990-"
data_rent[data_rent$Year.Built > 1990 & data_rent$Year.Built <= 2011, "Building_Year"] <- "1990-2011"
data_rent[data_rent$Year.Built > 2011 & data_rent$Year.Built <= 2021, "Building_Year"] <- "2011-2021"
data_rent[data_rent$Year.Built == 2022 , "Building_Year"] <- "2022"
```

```{r}
# graph top 20 zipcode + subdivision seperate in years
```

